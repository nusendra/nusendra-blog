importScripts("service-worker/precache-manifest.5040a9dfc22d2b5c2aa78c1a48d4ce5f.js","https://storage.googleapis.com/workbox-cdn/releases/3.4.1/workbox-sw.js");workbox.skipWaiting()
workbox.clientsClaim()
workbox.setConfig({debug:!1});workbox.routing.registerRoute(new RegExp('https://fonts.*'),workbox.strategies.cacheFirst({cacheName:'fonts',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]})]}))
workbox.routing.registerRoute(new RegExp('.*(?:googleapis|gstatic).com.*$'),workbox.strategies.networkFirst({cacheName:'google'}))
workbox.routing.registerRoute(new RegExp('.(?:js|css|ico)$'),workbox.strategies.networkFirst({cacheName:'static'}),)
workbox.routing.registerRoute(new RegExp('.(?:jpg|png|gif|svg)$'),workbox.strategies.cacheFirst({cacheName:'images',plugins:[new workbox.expiration.Plugin({maxEntries:20,purgeOnQuotaError:!0,})]}))
workbox.precaching.precacheAndRoute([{url:'offline',revision:Date.now()}])
const customHandler=async(args)=>{try{return await workbox.strategies.networkFirst({cacheName:'pages',plugins:[new workbox.expiration.Plugin({maxEntries:20,purgeOnQuotaError:!0})]}).handle(args)||caches.match('offline')}catch(error){return caches.match('offline')}}
const navigationRoute=new workbox.routing.NavigationRoute(customHandler,{blacklist:[new RegExp('/(login|register|password|auth)'),new RegExp('/admin')]})
workbox.routing.registerRoute(navigationRoute)